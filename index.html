---
layout: default
title: 首页
paginate: 5
---

{% assign features = site.features | default: site.config.features | default: {} %}
{% assign search_enabled = features.search %}
{% if paginator %}
  {% assign posts_collection = paginator.posts %}
{% else %}
  {% assign posts_collection = site.posts %}
{% endif %}
{% assign featured_posts = posts_collection | where_exp: 'p','p.pin == true' %}
{% assign latest_posts = posts_collection | where_exp: 'p','p.pin != true' %}
{% assign total_posts = site.posts | size %}
{% assign latest_post = site.posts | first %}

{% assign tag_groups_definition = '技术实践:Jekyll|指南|AutoDL|开发,工具资源:GitHub Pages|上传|MobaXterm|Google Drive,随笔想法:随笔|笔记|记录|思考' | split: ',' %}
{% assign used_tags = '' | split: '' %}

<section class="hero">
  <div class="container hero-grid">
    <div class="hero-copy">
      <h1 class="hero-title" data-component="glitch-title" data-text="{{ site.title | escape }}">{{ site.title }}</h1>
      {% if site.subtitle %}<p class="subtitle">{{ site.subtitle }}</p>{% endif %}
      {% if site.description %}<p class="desc">{{ site.description }}</p>{% endif %}
      <div class="hero-actions">
        <a class="btn" href="{{ site.social.rss | relative_url | default: '/feed.xml' }}">订阅更新</a>
        <a class="btn secondary" href="{{ '/pages/archives/' | relative_url }}">查看归档</a>
      </div>
      {% if latest_post %}
      <div class="hero-meta">
        <span class="hero-meta-label">最新更新</span>
        <a href="{{ latest_post.url | relative_url }}" class="hero-meta-link">{{ latest_post.title }} →</a>
      </div>
      {% endif %}
    </div>
    <figure class="hero-cover">
      <img src="{{ latest_post.cover | default: '/assets/img/cover.svg' | relative_url }}" alt="最新文章封面" loading="lazy" decoding="async">
    </figure>
  </div>
</section>

<section class="site-section">
  <div class="container layout-grid">
    <section class="post-list">
      {% if featured_posts.size > 0 %}
      <div class="section-head">
        <h2 class="section-title">精选推荐</h2>
        <p class="section-desc">精选文章提供稳定的知识密度，适合作为入门或复习的参考资料。</p>
      </div>
      <div class="cards-grid featured-grid">
        {% for post in featured_posts %}
        <article class="card pinned" data-component="neon-border">
          <a class="card-cover" href="{{ post.url | relative_url }}">
            <img src="{{ post.cover | default: '/assets/img/cover.svg' | relative_url }}" alt="文章封面" loading="lazy" decoding="async" width="800" height="420"/>
          </a>
          <div class="card-body">
            <div class="meta">
              <time datetime="{{ post.date | date_to_xmlschema }}">{{ post.date | date: "%Y-%m-%d" }}</time>
              {% if post.categories and post.categories.size > 0 %}
                <span class="meta-dot" aria-hidden="true">·</span>
                <span class="category">{{ post.categories | join: " / " }}</span>
              {% endif %}
              <span class="meta-dot" aria-hidden="true">·</span>
              <span class="readtime" data-words="{{ post.content | number_of_words }}"></span>
            </div>
            <h3 class="card-title"><a href="{{ post.url | relative_url }}">{{ post.title }}</a></h3>
            <p class="excerpt">{{ post.summary | default: post.excerpt | strip_html | strip_newlines | truncate: 160 }}</p>
            {% if post.tags %}
            <div class="tag-row">
              {% for t in post.tags limit: 4 %}
                <span class="tag-chip">#{{ t }}</span>
              {% endfor %}
            </div>
            {% endif %}
          </div>
        </article>
        {% endfor %}
      </div>
      {% endif %}

      <div class="section-head">
        <h2 class="section-title">最新文章</h2>
        <p class="section-desc">包含最近发布的思考、实践记录与笔记，按时间顺序排列，方便快速追踪。</p>
      </div>

      {% if latest_posts.size > 0 %}
      <div class="cards-grid latest-grid">
        {% for post in latest_posts %}
        <article class="card" data-component="neon-border">
          <a class="card-cover" href="{{ post.url | relative_url }}">
            <img src="{{ post.cover | default: '/assets/img/cover.svg' | relative_url }}" alt="{{ post.title }}" loading="lazy" decoding="async" width="800" height="420"/>
          </a>
          <div class="card-body">
            <div class="meta">
              <time datetime="{{ post.date | date_to_xmlschema }}">{{ post.date | date: "%Y-%m-%d" }}</time>
              {% if post.categories and post.categories.size > 0 %}
                <span class="meta-dot" aria-hidden="true">·</span>
                <span class="category">{{ post.categories | join: " / " }}</span>
              {% endif %}
              <span class="meta-dot" aria-hidden="true">·</span>
              <span class="readtime" data-words="{{ post.content | number_of_words }}"></span>
            </div>
            <h3 class="card-title"><a href="{{ post.url | relative_url }}">{{ post.title }}</a></h3>
            <p class="excerpt">{{ post.summary | default: post.excerpt | strip_html | strip_newlines | truncate: 200 }}</p>
            {% if post.tags %}
            <div class="tag-row">
              {% for t in post.tags limit: 4 %}
                <span class="tag-chip">#{{ t }}</span>
              {% endfor %}
            </div>
            {% endif %}
          </div>
        </article>
        {% endfor %}
      </div>
      {% else %}
        <p class="empty-hint">暂无文章，敬请期待新内容。</p>
      {% endif %}

      {% if paginator and paginator.total_pages > 1 %}
      <nav class="pagination" aria-label="文章分页">
        {% if paginator.previous_page %}
          <a class="btn" href="{{ paginator.previous_page_path | relative_url }}">上一页</a>
        {% endif %}
        <span class="pagination-info">第 {{ paginator.page }} / {{ paginator.total_pages }} 页</span>
        {% if paginator.next_page %}
          <a class="btn" href="{{ paginator.next_page_path | relative_url }}">下一页</a>
        {% endif %}
      </nav>
      {% endif %}
    </section>

    <aside class="sidebar">
      <section class="widget overview panel">
        <h3 class="widget-title">站点概览</h3>
        <ul class="overview-list">
          <li><span>文章</span><strong>{{ total_posts }}</strong></li>
          <li><span>标签</span><strong>{{ site.tags | size }}</strong></li>
          {% if latest_post %}<li><span>最近更新</span><strong>{{ latest_post.date | date: "%Y-%m-%d" }}</strong></li>{% endif %}
        </ul>
      </section>

      {% if search_enabled %}
      <section class="widget panel search-widget">
        <h3 class="widget-title">站内搜索</h3>
        <label class="sr-only" for="sidebar-search">搜索关键词</label>
        <div class="search-field">
          <input type="search" id="sidebar-search" name="q" placeholder="输入关键词..." autocomplete="off">
          <button class="btn secondary" type="button" data-action="open-search">打开全站搜索</button>
        </div>
      </section>
      {% endif %}

      <section class="widget panel hot-widget">
        <h3 class="widget-title">热门文章</h3>
        <ol class="hot-posts" id="hot-posts"></ol>
      </section>

      <section class="widget panel">
        <h3 class="widget-title">标签速览</h3>
        <div class="tag-groups">
          {% for entry in tag_groups_definition %}
            {% assign parts = entry | split: ':' %}
            {% assign group_name = parts[0] %}
            {% assign defined_tags = parts[1] | split: '|' %}
            {% assign present_tags = '' | split: '' %}
            {% for t in defined_tags %}
              {% if site.tags[t] %}
                {% assign present_tags = present_tags | push: t %}
                {% assign used_tags = used_tags | push: t %}
              {% endif %}
            {% endfor %}
            {% if present_tags and present_tags.size > 0 %}
            <div class="tag-group">
              <h4 class="tag-group-title">{{ group_name }}</h4>
              <div class="tag-group-body">
                {% for tag_name in present_tags %}
                  {% assign tag_count = site.tags[tag_name].size %}
                  <a class="tag-rank-item" href="{{ '/pages/tags/#' | append: tag_name | relative_url }}">
                    <span class="tag-rank-name">#{{ tag_name }}</span>
                    <span class="tag-rank-count">{{ tag_count }}</span>
                  </a>
                {% endfor %}
              </div>
            </div>
            {% endif %}
          {% endfor %}

          {% assign other_tags = '' | split: '' %}
          {% for tag in site.tags %}
            {% assign tag_name = tag[0] %}
            {% unless used_tags contains tag_name %}
              {% assign other_tags = other_tags | push: tag_name %}
            {% endunless %}
          {% endfor %}
          {% if other_tags and other_tags.size > 0 %}
          <div class="tag-group">
            <h4 class="tag-group-title">其他主题</h4>
            <div class="tag-group-body">
              {% for tag_name in other_tags limit:6 %}
                {% assign tag_count = site.tags[tag_name].size %}
                <a class="tag-rank-item" href="{{ '/pages/tags/#' | append: tag_name | relative_url }}">
                  <span class="tag-rank-name">#{{ tag_name }}</span>
                  <span class="tag-rank-count">{{ tag_count }}</span>
                </a>
              {% endfor %}
            </div>
          </div>
          {% endif %}
        </div>
        <a class="widget-link" href="{{ '/pages/tags/' | relative_url }}">浏览全部标签 →</a>
      </section>

      <section class="widget panel">
        <h3 class="widget-title">快速入口</h3>
        <div class="widget-links">
          <a href="{{ '/pages/about/' | relative_url }}">关于本站</a>
          <a href="{{ '/pages/archives/' | relative_url }}">归档年表</a>
          <a href="{{ site.social.rss | relative_url | default: '/feed.xml' }}">RSS 订阅</a>
        </div>
      </section>
    </aside>

  </div>
</section>
