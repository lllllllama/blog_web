{% assign features = site.config.features %}
{% assign giscus = features.comments.giscus %}
{% if giscus and giscus.enabled %}
<section class="comments" id="comments">
  <script src="https://giscus.app/client.js"
          data-repo="{{ giscus.repo }}"
          data-repo-id="{{ giscus.repo_id }}"
          data-category="{{ giscus.category }}"
          data-category-id="{{ giscus.category_id }}"
          data-mapping="{{ giscus.mapping | default: 'pathname' }}"
          data-reactions-enabled="{{ giscus.reactions_enabled | default: 1 }}"
          data-emit-metadata="{{ giscus.emit_metadata | default: 0 }}"
          data-input-position="{{ giscus.input_position | default: 'bottom' }}"
          data-theme="{{ giscus.theme | default: 'dark' }}"
          data-lang="{{ giscus.lang | default: 'zh-CN' }}"
          crossorigin="anonymous"
          async>
  </script>
</section>
{% endif %}
